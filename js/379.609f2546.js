"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[379],{2379:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[e.isLoading?t("Spinner"):[t("div",{staticClass:"main-container main-container-mountain"},[t("div",{staticClass:"title-wrapper"},[t("h1",[e._v(e._s(e.mountainOneWeek.locationName))])]),t("div",[t("div",{staticClass:"subtitle-wrapper"},[t("h2",[e._v("一周預報")])]),t("table",{staticClass:"main-table"},[t("thead",{staticClass:"table-header"},[t("tr",{staticClass:"table-row"},[t("th",{staticClass:"table-cell table-cell-name"}),e._l(e.mountainOneWeek.weatherElement[3].time,(function(a){return t("th",{key:"OneWeek date"+a.startTime,staticClass:"table-cell mountain-table-cell-each-day"},[t("div",[e._v(e._s(a.startTime.slice(0,10)))])])}))],2)]),t("tbody",{staticClass:"table-body mountain-table-body"},e._l(e.mountainOneWeek.weatherElement,(function(a){return t("tr",{key:"OneWeek date"+a.description,staticClass:"table-row"},[t("td",{staticClass:"table-cell table-cell-name"},[e._v(" "+e._s(a.description)+" ")]),"天氣現象"===a.description?e._l(7,(function(e){return t("td",{key:"OneWeek date"+e,staticClass:"table-cell mountain-table-cell-each-day"},[t("div",{staticClass:"mountain-table-cell-each-day_info_Wx"},[t("img",{attrs:{src:"https://www.cwb.gov.tw/V8/assets/img/weather_icons/weathers/svg_icon/day/"+a.time[e-1].elementValue[1].value+".svg",title:a.time[e-1].elementValue[0].value,alt:a.time[e-1].elementValue[0].value}})])])})):e._l(7,(function(s){return t("td",{key:"OneWeek date"+s,staticClass:"table-cell mountain-table-cell-each-day"},[t("div",[a.time[s-1].elementValue.value?t("div",[e._v(e._s(a.time[s-1].elementValue.value))]):e._e()])])}))],2)})),0)])]),t("br"),t("div",[t("div",{staticClass:"subtitle-wrapper"},[t("h2",[e._v("每3小時預報")])]),t("table",{staticClass:"main-table"},[t("thead",{staticClass:"table-header"},[t("tr",{staticClass:"table-row"},[t("th",{staticClass:"table-cell table-cell-name"}),e._l(e.mountainPerThreeHours.weatherElement[0].time,(function(a){return t("th",{key:"ThreeHours dataTime"+a.dataTime,staticClass:"table-cell mountain-table-cell-each-day"},[t("div",[e._v(e._s(a.dataTime.slice(0,10))+" "+e._s(a.dataTime.slice(11,16)))])])}))],2)]),t("tbody",{staticClass:"table-body"},e._l(e.mountainPerThreeHours.weatherElement,(function(a){return t("tr",{key:"ThreeHours"+a.description,staticClass:"table-row"},[t("td",{staticClass:"table-cell table-cell-name"},[e._v(" "+e._s(a.description)+" ")]),"天氣現象"===a.description?e._l(24,(function(s){return t("td",{key:"ThreeHours"+s,staticClass:"table-cell mountain-table-cell-each-day"},[a.time[s-1]?t("div",{staticClass:"mountain-table-cell-each-day_info_Wx"},[t("img",{attrs:{src:"https://www.cwb.gov.tw/V8/assets/img/weather_icons/weathers/svg_icon/day/"+a.time[s-1].elementValue[1].value+".svg",title:a.time[s-1].elementValue[0].value,alt:a.time[s-1].elementValue[0].value}})]):e._e()])})):[24===a.time.length?e._l(24,(function(s){return t("td",{key:"ThreeHours"+s,staticClass:"table-cell mountain-table-cell-each-day"},[a.time[s-1]?t("div",[e._v(" "+e._s(a.time[s-1].elementValue.value)+" ")]):e._e()])})):11===a.time.length||12===a.time.length?e._l(12,(function(s){return t("td",{key:"ThreeHours"+s,staticClass:"table-cell mountain-table-cell-each-day-colspan-2"},[a.time[s-1]?t("div",[e._v(" "+e._s(a.time[s-1].elementValue.value)+" ")]):e._e()])})):6===a.time.length||5===a.time.length?e._l(6,(function(s){return t("td",{key:"ThreeHours"+s,staticClass:"table-cell mountain-table-cell-each-day-colspan-4"},[a.time[s-1]?t("div",[e._v(" "+e._s(a.time[s-1].elementValue.value)+" ")]):e._e()])})):e._e()]],2)})),0)])])])]],2)},n=[],l=(a(1703),a(7877)),i=a(6005),r={components:{Spinner:i.Z},data(){return{dataCategory:{oneWeek:"F-B0053-031",oneWeekDayNight:"F-B0053-033",perThreeHours:"F-B0053-035"},dataType:"JSON",datasetOneWeek:{locations:{location:[]}},datasetPerThreeHours:{locations:{location:[]}},isLoading:!0,mountainOneWeek:{},mountainPerThreeHours:{}}},methods:{async fetchDatasetOneWeek(){try{this.isLoading=!0;const e=this.dataCategory.oneWeek,t=this.dataType,a=await l.Z.getWeatherData({dataCategory:e,dataType:t});if(200!==a.status)throw new Error;this.datasetOneWeek={...a.data.dataset},this.datasetOneWeek.locations.location.forEach((e=>{e.parameterSet.parameter.parameterValue===this.$route.params.id&&(this.mountainOneWeek={...e},this.amendDatasetOneWeek())})),this.isLoading=!1}catch(e){this.isLoading=!1,console.warn(e)}},async fetchDatasetPerThreeHours(){try{this.isLoading=!0;const e=this.dataCategory.perThreeHours,t=this.dataType,a=await l.Z.getWeatherData({dataCategory:e,dataType:t});if(200!==a.status)throw new Error;this.datasetPerThreeHours={...a.data.dataset},this.datasetPerThreeHours.locations.location.forEach((e=>{e.parameterSet.parameter.parameterValue===this.$route.params.id&&(this.mountainPerThreeHours={...e},this.amendDatasetPerThreeHours())})),this.isLoading=!1}catch(e){this.isLoading=!1,console.warn(e)}},amendDatasetOneWeek(){const e=[0,1,2,3,4,5,6,7,8,9,11,13];e.forEach((e=>{this.mountainOneWeek.weatherElement[e]=0===e||1===e||3===e||4===e||5===e||6===e?{...this.mountainOneWeek.weatherElement[e],time:this.mountainOneWeek.weatherElement[e].time.map((e=>({elementValue:{measures:e.elementValue.measures,value:e.elementValue.value+"°C"},endTime:e.endTime,startTime:e.startTime})))}:2===e||9===e?{...this.mountainOneWeek.weatherElement[e],time:this.mountainOneWeek.weatherElement[e].time.map((e=>({elementValue:{measures:e.elementValue.measures,value:e.elementValue.value?e.elementValue.value+"%":""},endTime:e.endTime,startTime:e.startTime})))}:7===e||8===e?{...this.mountainOneWeek.weatherElement[e],time:this.mountainOneWeek.weatherElement[e].time.map((e=>({elementValue:{measures:e.elementValue[1].measures,value:e.elementValue[1].value},endTime:e.endTime,startTime:e.startTime})))}:{...this.mountainOneWeek.weatherElement[e],time:this.mountainOneWeek.weatherElement[e].time.map((t=>({elementValue:{measures:e,value:t.elementValue[0].value+" "+t.elementValue[0].measures+"；"+t.elementValue[1].value+" "+t.elementValue[1].measures},endTime:t.endTime,startTime:t.startTime})))}}))},amendDatasetPerThreeHours(){const e=[0,1,2,3,4,6,7,8];e.forEach((e=>{0===e||1===e||8===e?this.mountainPerThreeHours.weatherElement[e]={...this.mountainPerThreeHours.weatherElement[e],time:this.mountainPerThreeHours.weatherElement[e].time.map((e=>({elementValue:{measures:e.elementValue.measures,value:e.elementValue.value+"°C"},dataTime:e.dataTime})))}:2===e||3===e||4===e?this.mountainPerThreeHours.weatherElement[e]={...this.mountainPerThreeHours.weatherElement[e],time:this.mountainPerThreeHours.weatherElement[e].time.map((e=>({elementValue:{measures:e.elementValue.measures,value:e.elementValue.value+"%"},dataTime:e.dataTime})))}:6===e?this.mountainPerThreeHours.weatherElement[e]={...this.mountainPerThreeHours.weatherElement[e],time:this.mountainPerThreeHours.weatherElement[e].time.map((t=>({elementValue:{measures:e,value:t.elementValue[0].value+" "+t.elementValue[0].measures+"；"+t.elementValue[1].value+" "+t.elementValue[1].measures},dataTime:t.dataTime})))}:7===e&&(this.mountainPerThreeHours.weatherElement[e]={...this.mountainPerThreeHours.weatherElement[e],time:this.mountainPerThreeHours.weatherElement[e].time.map((e=>({elementValue:{measures:e.elementValue[1].measures,value:e.elementValue[1].value},dataTime:e.dataTime})))})}))}},beforeRouteUpdate(e,t,a){"mountain"===this.$route.name&&(this.datasetOneWeek.locations.location.forEach((t=>{t.parameterSet.parameter.parameterValue===e.params.id&&(this.mountainOneWeek={...t},this.amendDatasetOneWeek())})),this.datasetPerThreeHours.locations.location.forEach((t=>{t.parameterSet.parameter.parameterValue===e.params.id&&(this.mountainPerThreeHours={...t},this.amendDatasetPerThreeHours())}))),a()},mounted(){this.fetchDatasetOneWeek(),this.fetchDatasetPerThreeHours()}},m=r,u=a(1001),o=(0,u.Z)(m,s,n,!1,null,null,null),h=o.exports}}]);
//# sourceMappingURL=379.609f2546.js.map